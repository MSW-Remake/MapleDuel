# ë¦¬ì†ŒìŠ¤ ë§¤ë‹ˆì €

## ğŸ“‹ ê°œìš”

ë¦¬ì†ŒìŠ¤ ë§¤ë‹ˆì € ì‹œìŠ¤í…œì€ ë©”ì´í”Œ ë“€ì–¼ì˜ ëª¨ë“  ì™¸ë¶€ ìì›ê³¼ ë©”íƒ€ ë°ì´í„°ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ì§€ì› ì‹œìŠ¤í…œë“¤ì…ë‹ˆë‹¤. ResourceManagerëŠ” 200ì—¬ ê°œ ì¹´ë“œì˜ ì• ë‹ˆë©”ì´ì…˜ê³¼ ì‚¬ìš´ë“œë¥¼ í¬í•¨í•œ 1000ì—¬ ê°œì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¡œë”©í•˜ê³  ê´€ë¦¬í•˜ë©°, EntryManagerëŠ” ëª¨ë“  ê²Œì„ ê°ì²´ì˜ ê¸°ë³¸ ìŠ¤íƒ¯ê³¼ ì†ì„±ì„ ì¤‘ì•™ ì§‘ì¤‘í™”í•©ë‹ˆë‹¤. CardPackManagerëŠ” ë³µì¡í•œ ì¹´ë“œíŒ© ì‹œìŠ¤í…œê³¼ ê²½ì œ êµ¬ì¡°ë¥¼ ê´€ë¦¬í•˜ê³ , BotManagerëŠ” AI ëŒ€ì „ ìƒëŒ€ì˜ ë°ì´í„°ì™€ í–‰ë™ì„ ì •ì˜í•©ë‹ˆë‹¤. ì´ë“¤ì€ í•¨ê»˜ ì‘ë™í•˜ì—¬ ê²Œì„ì˜ ëª¨ë“  ì™¸ë¶€ ì˜ì¡´ì„±ì„ ì•ˆì •ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ê°œë°œ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.

**ê´€ë ¨ íŒŒì¼**:
- `RootDesk/MyDesk/Components/Managers/ResourceManager.mlua` - ë©€í‹°ë¯¸ë””ì–´ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬
- `RootDesk/MyDesk/Components/Managers/EntryManager.mlua` - ê²Œì„ ê°ì²´ ê¸°ë³¸ ë°ì´í„°
- `RootDesk/MyDesk/Components/Managers/CardPackManager.mlua` - ì¹´ë“œíŒ© ì‹œìŠ¤í…œ ê´€ë¦¬
- `RootDesk/MyDesk/Components/Managers/BotManager.mlua` - AI ë´‡ ë°ì´í„° ê´€ë¦¬

## ğŸ—ï¸ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ì•„í‚¤í…ì²˜

### í†µí•© ë¦¬ì†ŒìŠ¤ ì‹œìŠ¤í…œ

```mermaid
graph TB
    A[ê²Œì„ ì‹œì‘] --> B[ResourceManager<br/>ë©€í‹°ë¯¸ë””ì–´ ë¡œë”©]
    A --> C[EntryManager<br/>ê¸°ë³¸ ìŠ¤íƒ¯ ë¡œë”©]
    A --> D[CardPackManager<br/>ìƒì  ë°ì´í„° ë¡œë”©]
    A --> E[BotManager<br/>AI ì„¤ì • ë¡œë”©]
    
    B --> F[ì¹´ë“œë³„ ë¦¬ì†ŒìŠ¤<br/>9ì¢… ì• ë‹ˆë©”ì´ì…˜<br/>9ì¢… ì‚¬ìš´ë“œ]
    C --> G[ê°ì²´ë³„ ê¸°ë³¸ê°’<br/>ìŠ¤íƒ¯, ì†ì„±<br/>íŠ¸ë¦¬ê±°, ì˜¤ë¼]
    D --> H[ì¹´ë“œíŒ© ì •ë³´<br/>ê°€ê²©, í…Œë§ˆ<br/>ë“œë í…Œì´ë¸”]
    E --> I[ë´‡ êµ¬ì„±<br/>ë±, ì¹´ë“œë°±<br/>ë‚œì´ë„ ì„¤ì •]
    
    F --> J[ActionManager ì—°ë™]
    G --> K[Object ìƒì„± ì‹œ ì‚¬ìš©]
    H --> L[ShopModule ì—°ë™]
    I --> M[Practice ëª¨ë“œ]
    
    style B fill:#ffcccc
    style C fill:#ccffcc
    style D fill:#ffffcc
    style E fill:#ffccff
```

## ğŸ¨ 1. ResourceManager - ë©€í‹°ë¯¸ë””ì–´ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ì

### í¬ê´„ì  ë¦¬ì†ŒìŠ¤ ë¡œë”© ì‹œìŠ¤í…œ

#### ë¦¬ì†ŒìŠ¤ ì¹´í…Œê³ ë¦¬ë³„ ê´€ë¦¬
```lua
@ExecSpace("ClientOnly")
method void OnBeginPlay()
    local resourceNameArray = {
        -- UI ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤
        "UI", "GuideModule", "RoomChannelModule", "DeckEditPanel", "CardPanel",
        "CardPackModule", "ShopModule", "RewardModule", "InteractionModule",
        
        -- ê¸€ë¡œë²Œ ê²Œì„ ìš”ì†Œ
        "Input", "Emote", "Rank", "Border", "Background", "CardPack", "Deck",
        "Digit", "Notice", "Countdown", "Scope", "Player", "NameTag", "Thumbnail",
        
        -- ê²Œì„í”Œë ˆì´ íƒœìŠ¤í¬
        "BeginDuel", "EndDuel", "DeclareEndRound", "Battle", "DirectAttack",
        "Damage", "Summon", "Dead", "Transform", "Kick", "Overdraw", "Discard",
    }
    
    -- ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ë¡œë”©
    for _, name in ipairs(resourceNameArray) do
        self.resourceTable[name] = self[name](self)
        self:LoadResource(name, nil)
    end
end
```

#### ì¹´ë“œë³„ ë¦¬ì†ŒìŠ¤ ìë™ ìƒì„±
```lua
-- ëª¨ë“  ì¹´ë“œì— ëŒ€í•´ 9ì¢… ì• ë‹ˆë©”ì´ì…˜, 9ì¢… ì‚¬ìš´ë“œ ìë™ ë§¤í•‘
for _, name in ipairs(self.cardManager:GetAllCardNames()) do
    self.resourceTable[name] = {
        -- ìŠ¤í‚¬ ì• ë‹ˆë©”ì´ì…˜ (3ì¢…)
        skillAnimation_1 = self.cardManager:GetSkillAnimation_1(name),
        skillAnimation_2 = self.cardManager:GetSkillAnimation_2(name), 
        skillAnimation_3 = self.cardManager:GetSkillAnimation_3(name),
        
        -- ë°œì‚¬ì²´ ì• ë‹ˆë©”ì´ì…˜ (3ì¢…)
        ballAnimation_1 = self.cardManager:GetBallAnimation_1(name),
        ballAnimation_2 = self.cardManager:GetBallAnimation_2(name),
        ballAnimation_3 = self.cardManager:GetBallAnimation_3(name),
        
        -- íƒ€ê²© ì• ë‹ˆë©”ì´ì…˜ (3ì¢…)
        hitAnimation_1 = self.cardManager:GetHitAnimation_1(name),
        hitAnimation_2 = self.cardManager:GetHitAnimation_2(name),
        hitAnimation_3 = self.cardManager:GetHitAnimation_3(name),
        
        -- íŠ¹ìˆ˜ ì• ë‹ˆë©”ì´ì…˜ (3ì¢…)
        extraAnimation_1 = self.cardManager:GetExtraAnimation_1(name),
        extraAnimation_2 = self.cardManager:GetExtraAnimation_2(name),
        extraAnimation_3 = self.cardManager:GetExtraAnimation_3(name),
        
        -- ì‚¬ìš´ë“œ ë¦¬ì†ŒìŠ¤ (9ì¢…)
        damageSound = self.cardManager:GetDamageSound(name),
        dieSound = self.cardManager:GetDieSound(name),
        skillSound_1 = self.cardManager:GetSkillSound_1(name),
        skillSound_2 = self.cardManager:GetSkillSound_2(name),
        skillSound_3 = self.cardManager:GetSkillSound_3(name),
        hitSound_1 = self.cardManager:GetHitSound_1(name),
        hitSound_2 = self.cardManager:GetHitSound_2(name),
        hitSound_3 = self.cardManager:GetHitSound_3(name),
        extraSound_1 = self.cardManager:GetExtraSound_1(name),
        extraSound_2 = self.cardManager:GetExtraSound_2(name),
        extraSound_3 = self.cardManager:GetExtraSound_3(name),
    }
end
```

**ë¦¬ì†ŒìŠ¤ ìŠ¬ë¡¯ ì‹œìŠ¤í…œ**:
- **ì²´ê³„ì  ë¶„ë¥˜**: ìš©ë„ë³„ë¡œ ëª…í™•íˆ êµ¬ë¶„ëœ ë¦¬ì†ŒìŠ¤ ìŠ¬ë¡¯
- **í™•ì¥ì„±**: ê° ì¹´ë“œë§ˆë‹¤ ìµœëŒ€ 9ê°œ ì• ë‹ˆë©”ì´ì…˜, 9ê°œ ì‚¬ìš´ë“œ ì§€ì›
- **ì¼ê´€ì„±**: ëª¨ë“  ì¹´ë“œê°€ ë™ì¼í•œ ë¦¬ì†ŒìŠ¤ êµ¬ì¡°ë¥¼ ê°€ì§
- **íš¨ìœ¨ì„±**: í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ë§Œ ì‹¤ì œë¡œ ì •ì˜í•˜ê³  ì‚¬ìš©

### ë™ì  ë¦¬ì†ŒìŠ¤ ë¡œë”©

#### ì§€ì—° ë¡œë”© ì‹œìŠ¤í…œ
```lua
@ExecSpace("ClientOnly")
method table GetResource(string name)
    return self.resourceTable[name]
end

@ExecSpace("ClientOnly")
method void LoadResource(string name, any callback)
    local resource = self.resourceTable[name]
    if resource then
        -- ë¦¬ì†ŒìŠ¤ ì¡´ì¬ ì‹œ ë¹„ë™ê¸° ë¡œë”©
        -- ì½œë°±ì„ í†µí•œ ë¡œë”© ì™„ë£Œ ì•Œë¦¼
    end
end
```

#### ë¦¬ì†ŒìŠ¤ ì‚¬ìš© íŒ¨í„´
```mermaid
graph TB
    A[ActionManager<br/>ì• ë‹ˆë©”ì´ì…˜ ìš”ì²­] --> B[ResourceManager<br/>GetResource]
    B --> C{ë¦¬ì†ŒìŠ¤ ë¡œë”©ë¨?}
    
    C -->|Yes| D[ì¦‰ì‹œ ë°˜í™˜]
    C -->|No| E[ë¹„ë™ê¸° ë¡œë”© ì‹œì‘]
    
    E --> F[ë¡œë”© ì™„ë£Œ ëŒ€ê¸°]
    F --> G[ì½œë°± ì‹¤í–‰]
    G --> D
    
    D --> H[ActionManager<br/>ì• ë‹ˆë©”ì´ì…˜/ì‚¬ìš´ë“œ ì¬ìƒ]
    
    style B fill:#ffcccc
    style E fill:#ffffcc
```

## ğŸ“Š 2. EntryManager - ê¸°ë³¸ ë°ì´í„° ê´€ë¦¬ì

### ê²Œì„ ê°ì²´ ê¸°ë³¸ ì„¤ì •

#### ì‹œìŠ¤í…œ ê°ì²´ ê¸°ë³¸ê°’
```lua
method table Player()
    return {
        maxHp = 20,          -- ê¸°ë³¸ ì²´ë ¥
        atk = 0,             -- ê¸°ë³¸ ê³µê²©ë ¥ (í”Œë ˆì´ì–´ëŠ” ì§ì ‘ ê³µê²© ë¶ˆê°€)
        maxMp = 14,          -- ìµœëŒ€ MP
        skillDamage = 0,     -- ê¸°ë³¸ ìŠ¤í‚¬ ë°ë¯¸ì§€ ë³´ì •
        isImmuneToDirectAttack = false,  -- ì§ì ‘ ê³µê²© ë©´ì—­ ì—¬ë¶€
        taggedSkillDamageTable = {},     -- íƒœê·¸ë³„ ìŠ¤í‚¬ ë°ë¯¸ì§€ ë³´ì •
        triggerNameArray = {},           -- í”Œë ˆì´ì–´ íŠ¸ë¦¬ê±°ë“¤
        auraNameArray = {}              -- í”Œë ˆì´ì–´ ì˜¤ë¼ë“¤
    }
end

method table Duel()
    return {
        isRandomBattle = false,  -- ëœë¤ ë°°í‹€ ëª¨ë“œ ì—¬ë¶€
        triggerNameArray = {},   -- ê²Œì„ ì „ì²´ íŠ¸ë¦¬ê±°ë“¤
        auraNameArray = {},      -- ê²Œì„ ì „ì²´ ì˜¤ë¼ë“¤
    }
end
```

#### ì»¨í…Œì´ë„ˆ ê°ì²´ ì„¤ì •
```lua
method table Deck()
    return {
        triggerNameArray = {},  -- ë± ë ˆë²¨ íŠ¸ë¦¬ê±°
        auraNameArray = {}      -- ë± ë ˆë²¨ ì˜¤ë¼
    }
end

method table Hand()
    return {
        triggerNameArray = {},  -- ì†íŒ¨ ë ˆë²¨ íŠ¸ë¦¬ê±°  
        auraNameArray = {}      -- ì†íŒ¨ ë ˆë²¨ ì˜¤ë¼
    }
end

method table Field()
    return {
        triggerNameArray = {},  -- í•„ë“œ ë ˆë²¨ íŠ¸ë¦¬ê±°
        auraNameArray = {}      -- í•„ë“œ ë ˆë²¨ ì˜¤ë¼
    }
end
```

### ì¹´ë“œë³„ ê¸°ë³¸ ë°ì´í„° ë§¤í•‘

#### ì¹´ë“œ ê¸°ë³¸ ì •ë³´
```lua
for _, name in ipairs(self.cardManager:GetAllCardNames()) do
    self.entryTable[name] = {
        cost = self.cardManager:GetCost(name),                    -- MP ë¹„ìš©
        maxHp = self.cardManager:GetMaxHp(name),                  -- ìµœëŒ€ ì²´ë ¥
        atk = self.cardManager:GetAtk(name),                      -- ê³µê²©ë ¥
        triggerNameArray = self.cardManager:GetCardTriggerNames(name), -- ì¹´ë“œ íŠ¸ë¦¬ê±°
        auraNameArray = self.cardManager:GetCardAuraNames(name)        -- ì¹´ë“œ ì˜¤ë¼
    }
end
```

#### ë¯¸ë‹ˆì–¸ë³„ ì¶”ê°€ ë°ì´í„°
```lua
local category = self.cardManager:GetCategory(name)
if category == "Minion" then
    self.entryTable[name .. "Minion"] = {
        maxHp = self.cardManager:GetMaxHp(name),
        atk = self.cardManager:GetAtk(name),
        hasVenom = self.cardManager:HasVenom(name),               -- ë… ë³´ìœ  ì—¬ë¶€
        hasChill = self.cardManager:HasChill(name),               -- ë¹™ê²° ë³´ìœ  ì—¬ë¶€  
        isDirectAttackable = self.cardManager:IsDirectAttackable(name), -- ì§ì ‘ ê³µê²© ê°€ëŠ¥
        isImmuneToStrong = self.cardManager:IsImmuneToStrong(name),     -- ê°•ê³µê²© ë©´ì—­
        triggerNameArray = self.cardManager:GetMinionTriggerNames(name), -- ë¯¸ë‹ˆì–¸ íŠ¸ë¦¬ê±°
        auraNameArray = self.cardManager:GetMinionAuraNames(name)        -- ë¯¸ë‹ˆì–¸ ì˜¤ë¼
    }
end
```

**ì´ì¤‘ ë°ì´í„° êµ¬ì¡°**:
- **ì¹´ë“œ í˜•íƒœ**: ì†íŒ¨ì— ìˆì„ ë•Œì˜ ê¸°ë³¸ ìŠ¤íƒ¯ê³¼ ì†ì„±
- **ë¯¸ë‹ˆì–¸ í˜•íƒœ**: í•„ë“œì— ì†Œí™˜ëœ í›„ì˜ ì¶”ê°€ ì†ì„±ê³¼ ëŠ¥ë ¥
- **ë°ì´í„° ìƒì†**: ì¹´ë“œ â†’ ë¯¸ë‹ˆì–¸ìœ¼ë¡œ ê¸°ë³¸ê°’ ìƒì† í›„ íŠ¹í™”

## ğŸ’° 3. CardPackManager - ì¹´ë“œíŒ© ê²½ì œ ì‹œìŠ¤í…œ

### ì¹´ë“œíŒ© ë°ì´í„° êµ¬ì¡°

#### í…Œë§ˆë³„ ì¹´ë“œíŒ© ë¶„ë¥˜
```lua
method void OnBeginPlay()
    self.dataSet = _DataService:GetTable("CardPack")
    
    -- í…Œë§ˆë³„ ì¹´ë“œíŒ© ê·¸ë£¹í•‘
    for _, name in ipairs(self.dataSet:GetColumn("name")) do
        local theme = self:GetTheme(name)
        self.cardPackNameTable[theme] = self.cardPackNameTable[theme] or {}
        table.insert(self.cardPackNameTable[theme], name)
    end
    
    -- ì¹´ë“œ ë°°ì¹˜ ìœ„ì¹˜ ì‚¬ì „ ì •ì˜
    self.positionArray = {
        Vector2(0, 2.5),      -- ì¤‘ì•™
        Vector2(-1, 2.2),     -- ì¢Œì¸¡ ìƒë‹¨
        Vector2(-0.5, 1.1),   -- ì¢Œì¸¡ í•˜ë‹¨  
        Vector2(0.5, 1.1),    -- ìš°ì¸¡ í•˜ë‹¨
        Vector2(1, 2.2)       -- ìš°ì¸¡ ìƒë‹¨
    }
end
```

#### ê°€ê²© ì²´ê³„ ê´€ë¦¬
```lua
-- í™”íë³„ ê°€ê²© ì¡°íšŒ
method integer GetSinglePrice(string name)
    local currency = self:GetCurrency(name)
    if currency == "Meso" then
        return self:GetSingleMesoPrice(name)
    elseif currency == "WorldCoin" then
        return self:GetSingleWorldCoinPrice(name)
    end
end

method integer GetMultiplePrice(string name)
    local currency = self:GetCurrency(name)
    if currency == "Meso" then
        return self:GetMultipleMesoPrice(name)
    elseif currency == "WorldCoin" then
        return self:GetMultipleWorldCoinPrice(name)
    end
end
```

### ì¹´ë“œíŒ© ìƒì„± ì‹œìŠ¤í…œ

#### í™•ë¥  ê¸°ë°˜ ì¹´ë“œ ìƒì„±
```lua
@ExecSpace("ServerOnly")
method table GetInfos(string cardPackName)
    local cardPackTheme = self:GetTheme(cardPackName)
    local cardPackQuality = self:GetQuality(cardPackName)  
    local cardPackRarity = self:GetRarity(cardPackName)
    
    local infoArray = {}
    for i = 1, 5 do  -- 5ì¥ ì¹´ë“œ ìƒì„±
        local name
        local variant  
        local quality
        
        -- ë³µì¡í•œ í™•ë¥  ê³„ì‚° ë¡œì§
        local value = _UtilLogic:RandomDouble()
        
        -- í¬ê·€ë„ë³„ í™•ë¥  ë¶„ê¸°
        -- í…Œë§ˆë³„ ì¹´ë“œí’€ ì„ íƒ
        -- í’ˆì§ˆë³„ ë³€í˜• ê²°ì •
        
        table.insert(infoArray, {
            name = name,
            variant = variant,
            quality = quality
        })
    end
    
    return infoArray
end
```

**ì¹´ë“œíŒ© ê²½ì œ ëª¨ë¸**:
- **ì´ì¤‘ í™”í**: Meso(ê²Œì„ ë‚´ ì¬í™”) vs WorldCoin(í”„ë¦¬ë¯¸ì—„ ì¬í™”)  
- **ëŒ€ëŸ‰ êµ¬ë§¤ í• ì¸**: ë‹¨ì¼ vs ë‹¤ì¤‘ êµ¬ë§¤ ê°€ê²© ì°¨ë“±
- **í…Œë§ˆ ë¶„ë¥˜**: íŠ¹ì • í…Œë§ˆ ì¹´ë“œë§Œ ë‚˜ì˜¤ëŠ” ì „ìš© íŒ©
- **í’ˆì§ˆ ì‹œìŠ¤í…œ**: Normal, Rare, Epic, Unique, Legendary ë“±ê¸‰

### ì‹œê°ì  ì¹´ë“œíŒ© ì‹œìŠ¤í…œ

#### ì¹´ë“œ ë°°ì¹˜ ë° ì—°ì¶œ
```lua
-- ì¹´ë“œíŒ© ì—´ê¸° ì‹œ ì¹´ë“œ ìœ„ì¹˜ ì‚¬ì „ ì •ì˜
self.positionArray = {Vector2(0, 2.5), Vector2(-1, 2.2), Vector2(-0.5, 1.1), Vector2(0.5, 1.1), Vector2(1, 2.2)}

-- 3D ë ˆì´ì–´ë§ì„ ìœ„í•œ Z ìœ„ì¹˜ ê´€ë¦¬
property number zPosition = 3000

-- í’€ë§ì„ í†µí•œ ì„±ëŠ¥ ìµœì í™”
property table cardPackPool = {}
property table thumbnailPool = {}
```

## ğŸ¤– 4. BotManager - AI ë´‡ ê´€ë¦¬ ì‹œìŠ¤í…œ

### ì§ì—…ë³„ ì—°ìŠµ ë´‡

#### ìŠ¤íƒ€í„° ë± ê¸°ë°˜ ë´‡ êµ¬ì„±
```lua
method table PracticeWarriorBot()
    return {
        cardBack = "OrangeMushroom",  -- ë´‡ ì „ìš© ì¹´ë“œ ë’·ë©´
        deckArray = {self.deckManager:GetWarriorStarterDeck(nil)},
        deckIndex = 1,
    }
end

method table PracticeMagicianBot()
    return {
        cardBack = "Yeti",
        deckArray = {self.deckManager:GetMagicianStarterDeck(nil)},
        deckIndex = 1,
    }
end

method table PracticeBowmanBot()
    return {
        cardBack = "StoneSpirit", 
        deckArray = {self.deckManager:GetBowmanStarterDeck(nil)},
        deckIndex = 1,
    }
end
```

#### íŠ¹ìˆ˜ ëª©ì  ë´‡
```lua
method table TutorialBot()
    return {
        cardBack = "Yeti",
        deckArray = {},  -- ë¹ˆ ë± - íŠœí† ë¦¬ì–¼ì—ì„œ ë™ì  êµ¬ì„±
        deckIndex = 1,
    }
end
```

**ë´‡ ì„¤ê³„ ì›ì¹™**:
- **êµìœ¡ì  ëª©ì **: í”Œë ˆì´ì–´ê°€ ê° ì§ì—…ì˜ íŠ¹ì„±ì„ í•™ìŠµí•  ìˆ˜ ìˆëŠ” ëŒ€í‘œ ë±
- **ê· ë“±í•œ ë‚œì´ë„**: ëª¨ë“  ì§ì—… ë´‡ì´ ë¹„ìŠ·í•œ ìˆ˜ì¤€ì˜ ë„ì „ ì œê³µ
- **ì‹œê°ì  êµ¬ë¶„**: ë´‡ë³„ë¡œ ê³ ìœ í•œ ì¹´ë“œë°±ìœ¼ë¡œ ì‹ë³„ì„± ì œê³µ
- **í™•ì¥ ê°€ëŠ¥ì„±**: ìƒˆë¡œìš´ ë´‡ ìœ í˜• ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥

### ë™ì  ë´‡ ë°ì´í„° ì ‘ê·¼

#### ëŸ°íƒ€ì„ ë´‡ ë°ì´í„° ì¡°íšŒ
```lua
method table GetData(string botName)
    return _Util:Call(self, botName, {})
end
```

**ìœ ì—°í•œ ë´‡ ì‹œìŠ¤í…œ**:
- **ë¬¸ìì—´ ê¸°ë°˜ ì ‘ê·¼**: ë´‡ ì´ë¦„ìœ¼ë¡œ ë™ì  ë©”ì„œë“œ í˜¸ì¶œ
- **ëŸ°íƒ€ì„ í™•ì¥**: ìƒˆ ë´‡ íƒ€ì…ì„ ì½”ë“œ ë³€ê²½ ì—†ì´ ì¶”ê°€ ê°€ëŠ¥
- **ë°ì´í„° ìº¡ìŠí™”**: ê° ë´‡ì˜ ì„¤ì •ì´ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬ë¨

## ğŸ”„ 5. ë§¤ë‹ˆì € ê°„ ì—°ë™ ì‹œìŠ¤í…œ

### ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ì›Œí¬í”Œë¡œìš°

#### ê²Œì„ ì‹œì‘ ì‹œ ì´ˆê¸°í™” ìˆœì„œ
```mermaid
sequenceDiagram
    participant GM as Game Start
    participant EM as EntryManager
    participant RM as ResourceManager  
    participant CPM as CardPackManager
    participant BM as BotManager
    participant CM as CardManager
    
    GM->>CM: ì¹´ë“œ ë°ì´í„° ë¡œë”©
    CM->>EM: ê¸°ë³¸ ìŠ¤íƒ¯ ì •ë³´ ìš”ì²­
    CM->>RM: ë¦¬ì†ŒìŠ¤ ì •ë³´ ìš”ì²­
    
    EM->>EM: ëª¨ë“  ê°ì²´ ê¸°ë³¸ê°’ ìƒì„±
    RM->>RM: ëª¨ë“  ë¦¬ì†ŒìŠ¤ ê²½ë¡œ ë§¤í•‘
    CPM->>CPM: ì¹´ë“œíŒ© ë°ì´í„° ë¡œë”©
    BM->>BM: ë´‡ ì„¤ì • ì¤€ë¹„
    
    Note over EM,BM: ëª¨ë“  ë§¤ë‹ˆì €ê°€ ë…ë¦½ì ìœ¼ë¡œ ì´ˆê¸°í™”
```

#### ëŸ°íƒ€ì„ ì—°ë™ íŒ¨í„´
```lua
-- Object ìƒì„± ì‹œ EntryManager ì—°ë™
method void SetName(string name)
    self.name = name
    self.entry = self.entryManager:GetEntry(self.name)  -- ê¸°ë³¸ê°’ ë¡œë”©
    self.resourceManager:LoadResource(self.name, nil)   -- ë¦¬ì†ŒìŠ¤ ë¡œë”©
end

-- ActionManagerì—ì„œ ResourceManager ì—°ë™  
method void PreProcessAirStrike()
    local resource = self.resourceManager:GetResource("AirStrike")  -- ë¦¬ì†ŒìŠ¤ ì¡°íšŒ
    _SoundService:PlaySound(resource.skillSound_1, 1)
    _Effect:PlaySkillEffectAttached(resource.skillAnimation_1, player, Vector3.zero, nil)
end
```

### ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥

#### ì°¸ì¡° ë¬´ê²°ì„± ê²€ì‚¬
```mermaid
graph TB
    A[ì¹´ë“œ ë°ì´í„° ë³€ê²½] --> B[CardManager ì—…ë°ì´íŠ¸]
    B --> C[EntryManager ë™ê¸°í™” í•„ìš”?]
    B --> D[ResourceManager ë™ê¸°í™” í•„ìš”?]
    
    C -->|Yes| E[ê¸°ë³¸ ìŠ¤íƒ¯ ì¬ê³„ì‚°]
    D -->|Yes| F[ë¦¬ì†ŒìŠ¤ ê²½ë¡œ ì¬ë§¤í•‘]
    
    E --> G[Object ì¸ìŠ¤í„´ìŠ¤ ì—…ë°ì´íŠ¸]
    F --> H[ActionManager ìºì‹œ ë¬´íš¨í™”]
    
    G --> I[ê²Œì„ ë¬´ê²°ì„± ìœ ì§€]
    H --> I
```

## âš¡ 6. ì„±ëŠ¥ ìµœì í™”

### ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±

#### ë¦¬ì†ŒìŠ¤ í’€ë§ ì‹œìŠ¤í…œ
```lua
-- CardPackManagerì˜ ì˜¤ë¸Œì íŠ¸ í’€ë§
property table cardPackPool = {}
property table thumbnailPool = {}

-- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ë“¤ì„ í’€ì—ì„œ ê´€ë¦¬
-- ì¹´ë“œíŒ© ì—´ê¸°/ë‹«ê¸° ì‹œ ê°ì²´ ìƒì„±/ì‚­ì œ ë¹„ìš© ìµœì†Œí™”
```

#### ì§€ì—° ì´ˆê¸°í™”
```lua
-- EntryManager - ëª¨ë“  ì¹´ë“œ ì •ë³´ë¥¼ ê²Œì„ ì‹œì‘ì‹œ í•œë²ˆì— ìƒì„±
-- ResourceManager - ì‹¤ì œ ì‚¬ìš© ì‹œì ì— ë¹„ë™ê¸° ë¡œë”©
-- CardPackManager - ì¹´ë“œíŒ© ë°ì´í„°ë§Œ ë¯¸ë¦¬ ë¡œë”©, ì‹¤ì œ ì¹´ë“œëŠ” ì—´ ë•Œ ìƒì„±
```

### ë°ì´í„° ì ‘ê·¼ ìµœì í™”

#### í•´ì‹œ ê¸°ë°˜ ë¹ ë¥¸ ì¡°íšŒ
```lua
-- EntryManager 
property table entryTable = {}  -- name -> entry ë§¤í•‘
method table GetEntry(string name)
    return self.entryTable[name]  -- O(1) ì¡°íšŒ
end

-- ResourceManager
property table resourceTable = {}  -- name -> resource ë§¤í•‘  
method table GetResource(string name)
    return self.resourceTable[name]  -- O(1) ì¡°íšŒ
end
```

## ğŸ’¡ ì½”ë“œ ì°¸ì¡°

ë¦¬ì†ŒìŠ¤ ë§¤ë‹ˆì € í•µì‹¬ ë¡œì§:
- `ResourceManager.mlua :: OnBeginPlay()` â€” ì „ì²´ ë¦¬ì†ŒìŠ¤ ì‹œìŠ¤í…œ ì´ˆê¸°í™”
- `EntryManager.mlua :: GetEntry()` â€” ê²Œì„ ê°ì²´ ê¸°ë³¸ ë°ì´í„° ì¡°íšŒ
- `CardPackManager.mlua :: GetInfos()` â€” ì„œë²„ ì¸¡ ì¹´ë“œíŒ© ìƒì„± ë¡œì§
- `BotManager.mlua :: GetData()` â€” ë™ì  ë´‡ ë°ì´í„° ì ‘ê·¼
- `ResourceManager.mlua :: GetResource()` â€” ë©€í‹°ë¯¸ë””ì–´ ë¦¬ì†ŒìŠ¤ ì¡°íšŒ

ë¦¬ì†ŒìŠ¤ ë§¤ë‹ˆì €ë“¤ì€ ë©”ì´í”Œ ë“€ì–¼ì˜ ëª¨ë“  ì™¸ë¶€ ìì›ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬ ê²Œì„ì˜ ì•ˆì •ì„±ê³¼ í™•ì¥ì„±ì„ ë³´ì¥í•˜ë©°, ê°œë°œìë“¤ì´ ê²Œì„ ë¡œì§ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ë³µì¡í•œ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ë¥¼ ìë™í™”í•˜ê³  ì¶”ìƒí™”í•©ë‹ˆë‹¤.
